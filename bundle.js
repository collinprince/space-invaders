(()=>{"use strict";var e={864:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EnemyMissile=t.PlayerMissile=t.PlayerShip=t.EnemyShip=t.GameObject=void 0;const s=i(212);class h{constructor(e,t,i,s,h,r){this.x=e,this.y=t,this.width=i,this.height=s,this.dx=h,this.dy=r,this.alive=!0}setX(e){this.x=e}setY(e){this.y=e}setDx(e){this.dx=e}setDy(e){this.dy=e}setPosition(e,t){this.setX(e),this.setY(t)}setDirection(e,t){this.setDx(e),this.setDy(t)}updatePosition(){this.x+=this.dx,this.y+=this.dy}isAlive(){return this.alive}}t.GameObject=h,t.EnemyShip=class extends h{draw(e){e.fillStyle="red",e.fillRect(this.x,this.y,this.width,this.height)}},t.PlayerShip=class extends h{draw(e){e.fillStyle="blue",e.beginPath(),e.moveTo(this.x,this.y+this.height),e.lineTo(this.x,this.y+this.height/2),e.lineTo(this.x+this.width/5,this.y+this.height/2),e.lineTo(this.x+this.width/5,this.y+this.height*(5/8)),e.lineTo(this.x+.45*this.width,this.y),e.lineTo(this.x+.55*this.width,this.y),e.lineTo(this.x+.8*this.width,this.y+this.height*(5/8)),e.lineTo(this.x+.8*this.width,this.y+this.height/2),e.lineTo(this.x+this.width,this.y+this.height/2),e.lineTo(this.x+this.width,this.y+this.height),e.lineTo(this.x+.8*this.width,this.y+this.height),e.lineTo(this.x+.8*this.width,this.y+this.height*(7/8)),e.lineTo(this.x+.2*this.width,this.y+this.height*(7/8)),e.lineTo(this.x+.2*this.width,this.y+this.height),e.closePath(),e.fill(),e.stroke()}},t.PlayerMissile=class extends h{draw(e){let t={x:this.x+this.width/2,y:this.y},i={x:this.x+this.width,y:this.y+this.height},h={x:this.x,y:this.y+this.height};e.fillStyle="black",(0,s.drawTriangleFill)(e,t,i,h)}isAlive(){return this.alive&&this.y>0}},t.EnemyMissile=class extends h{draw(e){}}},829:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseInputAndStopPlayerMoving=t.parseInputAndReturnAction=void 0;const s=i(864),h=e=>"ArrowLeft"===e||"Left"===e,r=e=>"ArrowRight"===e||"Right"===e,l=e=>{};t.parseInputAndReturnAction=e=>{return h(e.key)?n:r(e.key)?a:" "===(t=e.key)||"Spacebar"===t?o:l;var t},t.parseInputAndStopPlayerMoving=(e,t)=>{(h(e.key)&&t.player.dx<0||r(e.key)&&t.player.dx>0)&&(t.player.dx=0)};const n=e=>{e.player.setDx(-5)},a=e=>{e.player.setDx(5)},o=e=>{e.playerMissiles.push(new s.PlayerMissile(e.player.x+e.player.width/2-2.5,e.player.y-10,5,10,0,-10))}},796:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.objectsAreColliding=void 0;const i=(e,t)=>e.start<t.start?e:t,s=(e,t)=>e.start<t.start?t:e;t.objectsAreColliding=(e,t)=>{const h={start:e.x,end:e.x+e.width},r={start:e.y,end:e.y+e.height},l={start:t.x,end:t.x+t.width},n={start:t.y,end:t.y+t.width},a=[i(h,l),s(h,l)],o=[i(r,n),s(r,n)],d=a[0].end>=a[1].start,y=o[0].end>=o[1].start;return d&&y}},531:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.writeText=void 0,t.writeText=(e,t,i=10,s=20,h="20px Arial",r="black")=>{e.fillStyle=r,e.font=h,e.fillText(t,i,s)}},212:(e,t)=>{function i(e,t,i,s,h){e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.lineTo(s.x,s.y),e.closePath(),h&&e.fill(),e.stroke()}Object.defineProperty(t,"__esModule",{value:!0}),t.drawCircle=t.drawTriangleOutline=t.drawTriangleFill=void 0,t.drawTriangleFill=(e,t,s,h)=>i(e,t,s,h,!0),t.drawTriangleOutline=(e,t,s,h)=>i(e,t,s,h,!1),t.drawCircle=function(e,t,i){e.beginPath(),e.arc(t.x,t.y,i,0,2*Math.PI),e.stroke()}}},t={};function i(s){var h=t[s];if(void 0!==h)return h.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,i),r.exports}(()=>{const e=i(864),t=i(829),s=i(796),h=i(531),r=document.getElementById("canvas"),l=r.getContext("2d");let n=function(){let t={player:new e.PlayerShip(r.width/2-10,r.height-100,20,30,0,0),playerMissiles:new Array,enemies:new Array,enemyMissiles:new Array};for(let i=0;i<10;++i)t.enemies.push(new e.EnemyShip(20+r.width/10*i,r.height/10,20,20,0,0));return t}();document.addEventListener("keydown",(e=>{(0,t.parseInputAndReturnAction)(e)(n)})),document.addEventListener("keyup",(e=>{(0,t.parseInputAndStopPlayerMoving)(e,n)})),function e(){l.clearRect(0,0,r.width,r.height),(0,h.writeText)(l,`Enemies remaining: ${n.enemies.length}`),n.player.draw(l),n.player.updatePosition(),[n.playerMissiles,n.enemies,n.enemyMissiles].forEach((e=>{e.forEach((e=>{e.draw(l),e.updatePosition()}))})),n.enemies.forEach((e=>{n.playerMissiles.forEach((t=>{(0,s.objectsAreColliding)(e,t)&&(e.alive=!1,t.alive=!1)}))})),[n.playerMissiles,n.enemies,n.enemyMissiles]=[n.playerMissiles,n.enemies,n.enemyMissiles].map((e=>e.filter((e=>e.isAlive())))),requestAnimationFrame(e)}()})()})();