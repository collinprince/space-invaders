(()=>{"use strict";var e={864:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EnemyMissile=t.PlayerMissile=t.PlayerShip=t.EnemyShip=t.GameObject=void 0;class s{constructor(e,t,s,i,r,n){this.x=e,this.y=t,this.width=s,this.height=i,this.dx=r,this.dy=n,this.alive=!0}setX(e){this.x=e}setY(e){this.y=e}setDx(e){this.dx=e}setDy(e){this.dy=e}setPosition(e,t){this.setX(e),this.setY(t)}setDirection(e,t){this.setDx(e),this.setDy(t)}updatePosition(){this.x+=this.dx,this.y+=this.dy}isAlive(){return this.alive}}t.GameObject=s,t.EnemyShip=class extends s{draw(e){e.fillStyle="red",e.fillRect(this.x,this.y,this.width,this.height)}},t.PlayerShip=class extends s{draw(e){e.fillStyle="blue",e.fillRect(this.x,this.y,this.width,this.height)}},t.PlayerMissile=class extends s{draw(e){e.fillStyle="black",e.fillRect(this.x,this.y,this.width,this.height)}isAlive(){return this.alive&&this.y>0}},t.EnemyMissile=class extends s{draw(e){}}},829:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseInputAndStopPlayerMoving=t.parseInputAndReturnAction=void 0;const i=s(864),r=e=>"ArrowLeft"===e||"Left"===e,n=e=>"ArrowRight"===e||"Right"===e,l=e=>{};t.parseInputAndReturnAction=e=>{return r(e.key)?a:n(e.key)?h:" "===(t=e.key)||"Spacebar"===t?d:l;var t},t.parseInputAndStopPlayerMoving=(e,t)=>{(r(e.key)&&t.player.dx<0||n(e.key)&&t.player.dx>0)&&(t.player.dx=0)};const a=e=>{e.player.setDx(-5)},h=e=>{e.player.setDx(5)},d=e=>{e.playerMissiles.push(new i.PlayerMissile(e.player.x,e.player.y,5,5,0,-5))}},796:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.objectsAreColliding=void 0;const s=(e,t)=>e.start<t.start?e:t,i=(e,t)=>e.start<t.start?t:e;t.objectsAreColliding=(e,t)=>{const r={start:e.x,end:e.x+e.width},n={start:e.y,end:e.y+e.height},l={start:t.x,end:t.x+t.width},a={start:t.y,end:t.y+t.width},h=[s(r,l),i(r,l)],d=[s(n,a),i(n,a)],y=h[0].end>=h[1].start,o=d[0].end>=d[1].start;return y&&o}}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,s),n.exports}(()=>{const e=s(864),t=s(829),i=s(796),r=document.getElementById("canvas"),n=r.getContext("2d");let l=function(){let t={player:new e.PlayerShip(r.width/2-10,r.height-100,20,30,0,0),playerMissiles:new Array,enemies:new Array,enemyMissiles:new Array};for(let s=0;s<10;++s)t.enemies.push(new e.EnemyShip(20+r.width/10*s,r.height/10,10,10,0,0));return t}();document.addEventListener("keydown",(e=>{(0,t.parseInputAndReturnAction)(e)(l)})),document.addEventListener("keyup",(e=>{(0,t.parseInputAndStopPlayerMoving)(e,l)})),function e(){n.clearRect(0,0,r.width,r.height),l.player.draw(n),l.player.updatePosition(),[l.playerMissiles,l.enemies,l.enemyMissiles].forEach((e=>{e.forEach((e=>{e.draw(n),e.updatePosition()}))})),l.enemies.forEach((e=>{l.playerMissiles.forEach((t=>{(0,i.objectsAreColliding)(e,t)&&(e.alive=!1,t.alive=!1)}))})),[l.playerMissiles,l.enemies,l.enemyMissiles]=[l.playerMissiles,l.enemies,l.enemyMissiles].map((e=>e.filter((e=>e.isAlive())))),requestAnimationFrame(e)}()})()})();