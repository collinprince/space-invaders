(()=>{"use strict";var t={864:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EnemyMissile=e.PlayerMissile=e.PlayerShip=e.EnemyShip=e.GameObject=void 0;const s=i(212);class h{constructor(t,e,i,s,h,r){this.x=t,this.y=e,this.width=i,this.height=s,this.dx=h,this.dy=r,this.alive=!0}setX(t){this.x=t}setY(t){this.y=t}setDx(t){this.dx=t}setDy(t){this.dy=t}setPosition(t,e){this.setX(t),this.setY(e)}setDirection(t,e){this.setDx(t),this.setDy(e)}updatePosition(t,e){this.x+=this.dx,this.y+=this.dy}isAlive(){return this.alive}}e.GameObject=h,e.EnemyShip=class extends h{draw(t){t.fillStyle="red",t.fillRect(this.x,this.y,this.width,this.height)}},e.PlayerShip=class extends h{updatePosition(t,e){this.x+=this.dx,this.x<0&&(this.x=0),this.x+this.width>=t&&(this.x=t-this.width)}draw(t){t.fillStyle="blue",t.beginPath(),t.moveTo(this.x,this.y+this.height),t.lineTo(this.x,this.y+this.height/2),t.lineTo(this.x+this.width/5,this.y+this.height/2),t.lineTo(this.x+this.width/5,this.y+this.height*(5/8)),t.lineTo(this.x+.45*this.width,this.y),t.lineTo(this.x+.55*this.width,this.y),t.lineTo(this.x+.8*this.width,this.y+this.height*(5/8)),t.lineTo(this.x+.8*this.width,this.y+this.height/2),t.lineTo(this.x+this.width,this.y+this.height/2),t.lineTo(this.x+this.width,this.y+this.height),t.lineTo(this.x+.8*this.width,this.y+this.height),t.lineTo(this.x+.8*this.width,this.y+this.height*(7/8)),t.lineTo(this.x+.2*this.width,this.y+this.height*(7/8)),t.lineTo(this.x+.2*this.width,this.y+this.height),t.closePath(),t.fill(),t.stroke()}},e.PlayerMissile=class extends h{draw(t){let e={x:this.x+this.width/2,y:this.y},i={x:this.x+this.width,y:this.y+this.height},h={x:this.x,y:this.y+this.height};t.fillStyle="black",(0,s.drawTriangleFill)(t,e,i,h)}isAlive(){return this.alive&&this.y>0}},e.EnemyMissile=class extends h{draw(t){}}},829:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseInputAndStopPlayerMoving=e.parseInputAndReturnAction=void 0;const s=i(864),h=t=>"ArrowLeft"===t||"Left"===t,r=t=>"ArrowRight"===t||"Right"===t,l=t=>{};e.parseInputAndReturnAction=t=>{return h(t.key)?n:r(t.key)?a:" "===(e=t.key)||"Spacebar"===e?d:l;var e},e.parseInputAndStopPlayerMoving=(t,e)=>{(h(t.key)&&e.player.dx<0||r(t.key)&&e.player.dx>0)&&(e.player.dx=0)};const n=t=>{t.player.setDx(-5)},a=t=>{t.player.setDx(5)},d=t=>{t.playerMissiles.push(new s.PlayerMissile(t.player.x+t.player.width/2-2.5,t.player.y-10,5,10,0,-10))}},796:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.objectsAreColliding=void 0;const i=(t,e)=>t.start<e.start?t:e,s=(t,e)=>t.start<e.start?e:t;e.objectsAreColliding=(t,e)=>{const h={start:t.x,end:t.x+t.width},r={start:t.y,end:t.y+t.height},l={start:e.x,end:e.x+e.width},n={start:e.y,end:e.y+e.width},a=[i(h,l),s(h,l)],d=[i(r,n),s(r,n)],o=a[0].end>=a[1].start,y=d[0].end>=d[1].start;return o&&y}},531:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.writeText=void 0,e.writeText=(t,e,i=10,s=20,h="20px Arial",r="black")=>{t.fillStyle=r,t.font=h,t.fillText(e,i,s)}},212:(t,e)=>{function i(t,e,i,s,h){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.lineTo(s.x,s.y),t.closePath(),h&&t.fill(),t.stroke()}Object.defineProperty(e,"__esModule",{value:!0}),e.drawCircle=e.drawTriangleOutline=e.drawTriangleFill=void 0,e.drawTriangleFill=(t,e,s,h)=>i(t,e,s,h,!0),e.drawTriangleOutline=(t,e,s,h)=>i(t,e,s,h,!1),e.drawCircle=function(t,e,i){t.beginPath(),t.arc(e.x,e.y,i,0,2*Math.PI),t.stroke()}}},e={};function i(s){var h=e[s];if(void 0!==h)return h.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,i),r.exports}(()=>{const t=i(864),e=i(829),s=i(796),h=i(531),r=document.getElementById("canvas"),l=r.getContext("2d"),n=r.width,a=r.height;let d=function(){let e={player:new t.PlayerShip(r.width/2-10,r.height-100,20,30,0,0),playerMissiles:new Array,enemies:new Array,enemyMissiles:new Array};for(let i=0;i<10;++i)e.enemies.push(new t.EnemyShip(20+r.width/10*i,r.height/10,20,20,0,0));return e}();document.addEventListener("keydown",(t=>{(0,e.parseInputAndReturnAction)(t)(d)})),document.addEventListener("keyup",(t=>{(0,e.parseInputAndStopPlayerMoving)(t,d)})),function t(){l.clearRect(0,0,r.width,r.height),(0,h.writeText)(l,`Enemies remaining: ${d.enemies.length}`),d.player.draw(l),d.player.updatePosition(n,a),[d.playerMissiles,d.enemies,d.enemyMissiles].forEach((t=>{t.forEach((t=>{t.draw(l),t.updatePosition(n,a)}))})),d.enemies.forEach((t=>{d.playerMissiles.forEach((e=>{(0,s.objectsAreColliding)(t,e)&&(t.alive=!1,e.alive=!1)}))})),[d.playerMissiles,d.enemies,d.enemyMissiles]=[d.playerMissiles,d.enemies,d.enemyMissiles].map((t=>t.filter((t=>t.isAlive())))),requestAnimationFrame(t)}()})()})();